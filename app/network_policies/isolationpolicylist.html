<div ui-view class="ui container">
    <div class="ui basic segment">
        <div class="ui active inverted dimmer" *ngIf="isolationPolicyListCtrl.showLoader">
            <div class="ui loader"></div>
        </div>
        <ctv-table #tableRef [defaultSortColumn]="'policyName'"
                   [items]="isolationPolicyListCtrl['policies']"
                   (filtereditems)="isolationPolicyListCtrl['filteredPolicies']=$event"
                   [size]="12">
            <thead>
                <tr>
                    <th><ctv-th [sortfield]="'policyName'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Name</ctv-th></th>
                    <th><ctv-th [sortfield]="'updatedBy'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Updated by</ctv-th></th>
                    <th><ctv-th [sortfield]="'lastUpdate'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Last update</ctv-th></th>
                    <th class="right floated three wide column">
                        <ctv-search (searchTextChange)="tableRef.showChunk(tableRef.table.pageNo,$event);" [placeholder]="'Search isolation policies...'"></ctv-search>
                    </th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let policy of isolationPolicyListCtrl['filteredPolicies']">
                    <td><a href="/#/m/networkpolicies/isolation/details/{{policy.key}}">{{policy.policyName}}</a></td>
                    <td>{{policy.updatedBy}}</td>
                    <td>{{policy.lastUpdate}}</td>
                    <td></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="4">
                        <ctv-tpagination [chunks]="tableRef.pageChunks"
                                         (showPage)="tableRef.showChunk($event, tableRef.table.searchText)"
                                         (prevChunk)="tableRef.showPrevChunk()"
                                         (nextChunk)="tableRef.showNextChunk()">
                        </ctv-tpagination>
                    </td>
                </tr>
            </tfoot>
        </ctv-table>
    </div>
</div>